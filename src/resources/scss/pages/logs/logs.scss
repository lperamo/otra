// loading configuration
@use 'configuration/themes' as *;

// loading EcoComposer components
@use 'components/content/accordion/accordion';
@use 'components/form/styledButtons/ripple';
@use 'components/navigation/tabs/tabs';
@use 'components/design/theming/theming';

// loading partials
@use 'partials/profiler/index';

// configuring components
@include theming.init-themes($themes, 'accordion' 'styledButtons' 'tabs' 'theming');
@include ripple.create(
  (themes: $themes)
);
@include tabs.init();
@include tabs.create(
  (
    count : 2,
    themes : $themes,
    border-radius : 0 0 .5rem .5rem
  )
);
@include accordion.init();
@include accordion.create(
  (
    details-padding : null,
    themes: $themes
  )
);

#logs-container {
  // box
  box-sizing : border-box;
  padding    : 2rem * theming.$font-size;
  // the following combination prevent to go outside the screen but taking all the space available in the flex container
  flex-grow : 1;
  width     : min-content;

  // text
  font-size  : 1.6rem * theming.$font-size;

  // word-break is not supported by IE!
  @supports (word-break: break-word) {
    word-break : break-word;
  }

  @at-root .ripple-link {
    @include theming.to-theme(
      (
        #{&} : ('color', 'profiler--logs--sql-button--color')
      )
    );
  }

  @at-root .accordion--block {
    margin-left  : .1rem * theming.$font-size;
    margin-right : .1rem * theming.$font-size;

    @at-root .logs-container--item-container {
      box-shadow    : 0 0 .3rem * theming.$font-size #444;
      margin-bottom : 1rem * theming.$font-size;
      padding       : 1rem * theming.$font-size;

      @media all and (prefers-color-scheme : dark) {
        background-color: hsl(240deg 20% 53% / 15%);
      }
    }
  }

  @at-root .logs-container--label {
    width : 15rem * theming.$font-size;
  }

  @at-root .logs-container--message-container--label {
    width : 18.6rem * theming.$font-size;
  }

  @at-root .logs-container--label,
  .logs-container--message-container--label {
    // positioning
    display       : inline-block;
    margin-bottom : 1rem * theming.$font-size;
  }

  @at-root .yes-icon {
    color : #5bd75b;
  }

  @at-root .no-icon {
    color : #cb6767;
  }

  @at-root .ripple-link {
    text-decoration : none;
  }

  @at-root .requests--parameter--string {
    @include theming.to-theme(
      (
        #{&} : ('color', 'profiler--requests--parameter--string--color')
      )
    );
  }

  @at-root .requests--parameter--path {
    @include theming.to-theme(
      (
        #{&} : ('color', 'profiler--requests--parameter--path--color')
      )
    );
  }

  @at-root .message-container {
    @include theming.to-theme(
      (
        #{&} : ('border-color', 'profiler--logs--message-container--border-color')
      )
    );

    border-style : solid;
    border-width : 0 0 0 .3rem * theming.$font-size;
    padding-left : 1rem * theming.$font-size;
    border-color : #5781ff;
  }
}

// applying theme
@include theming.global-mass-theme;
